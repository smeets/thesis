\chapter{Methodology}

This section describes the methodology used to analyse the models.

\section{Model Selection}

\begin{verbatim}
  +-> model selection --> list of parameters --+
  |                                            |
  +-- parameter analysis <-- data collection <-+
\end{verbatim}
 
\section{Data Collection}

The evaluated model is Felemban-Ekici.

\section{Model Parameters}
The first step was to analyse the theoretical models.

To run the Felemban-Ekici model the following properties are required:

\begin{itemize}
	\item \emph{N}, the number of network nodes
	\item $CW_{min}$ and $CW_{max}$, contention window min and max size
	\item \emph{E[D]}, the mean payload size
	\item channel bit rate
	\item $L$, the \texttt{ShortRetryLimit}
\end{itemize}

The Felemban-Ekici model provides metrics such as normalized throughput, channel access delay and probability of packet collision.

\section{Tool}

On the router side three programs, which provide access to network interface data, were tested and evaluated:

\begin{enumerate}
	\item ubus - openwrt interface
	\item qcsapi - quantenna interface
	\item wl - driver interface
\end{enumerate}

In the end, ubus was chosen as it was found to be more consistent than the qcsapi.

\section{Parameter Extraction}

In order to evaluate the models we needed these parameters:

\begin{itemize}
\item rssi
\item nodes
\item logical tx/rx rates
\item physical tx/rx rates
\end{itemize}

\section{Parameter Analysis}

We must analyse the validity of the reported parameters.

Do this with experimentation in the radio lab.

We want to analyse the reported values for RSSI, SNR, broken \& valid IEEE 802.11 frames.

Using quantenna and wl API:s to query:
\begin{itemize}
    \item \texttt{wl assoclist} $\rightarrow$ \texttt{wl rssi}
    \item \texttt{ubus call wireless.radio.monitor get}
    \item \texttt{qcsapi get\_rssi\_per\_association "wifi0"}
\end{itemize}
