TCMODULES += iproute2/tc/tc_qdisc.o
TCMODULES += iproute2/tc/tc_class.o
TCMODULES += iproute2/tc/tc_filter.o
TCMODULES += iproute2/tc/tc_util.o
TCMODULES += iproute2/tc/tc_monitor.o
TCMODULES += iproute2/tc/tc_exec.o
TCMODULES += iproute2/tc/m_police.o
TCMODULES += iproute2/tc/m_estimator.o
TCMODULES += iproute2/tc/m_action.o
TCMODULES += iproute2/tc/m_ematch.o
TCMODULES += iproute2/tc/emp_ematch.yacc.o
TCMODULES += iproute2/tc/emp_ematch.lex.o
TCMODULES += iproute2/tc/q_fifo.o
TCMODULES += iproute2/tc/q_sfq.o
TCMODULES += iproute2/tc/q_red.o
TCMODULES += iproute2/tc/q_prio.o
TCMODULES += iproute2/tc/q_skbprio.o
TCMODULES += iproute2/tc/q_tbf.o
TCMODULES += iproute2/tc/q_cbq.o
TCMODULES += iproute2/tc/q_rr.o
TCMODULES += iproute2/tc/q_multiq.o
TCMODULES += iproute2/tc/q_netem.o
TCMODULES += iproute2/tc/q_choke.o
TCMODULES += iproute2/tc/q_sfb.o
TCMODULES += iproute2/tc/f_rsvp.o
# TCMODULES += iproute2/tc/f_u32.o
TCMODULES += iproute2/tc/f_route.o
TCMODULES += iproute2/tc/f_fw.o
TCMODULES += iproute2/tc/f_basic.o
TCMODULES += iproute2/tc/f_bpf.o
TCMODULES += iproute2/tc/f_flow.o
TCMODULES += iproute2/tc/f_cgroup.o
# TCMODULES += iproute2/tc/f_flower.o
TCMODULES += iproute2/tc/q_dsmark.o
TCMODULES += iproute2/tc/q_gred.o
TCMODULES += iproute2/tc/f_tcindex.o
TCMODULES += iproute2/tc/q_ingress.o
TCMODULES += iproute2/tc/q_hfsc.o
TCMODULES += iproute2/tc/q_htb.o
TCMODULES += iproute2/tc/q_drr.o
TCMODULES += iproute2/tc/q_qfq.o
# TCMODULES += iproute2/tc/m_gact.o
# TCMODULES += iproute2/tc/m_mirred.o
# TCMODULES += iproute2/tc/m_nat.o
# TCMODULES += iproute2/tc/m_pedit.o
# TCMODULES += iproute2/tc/m_ife.o
# TCMODULES += iproute2/tc/m_skbedit.o
# TCMODULES += iproute2/tc/m_skbmod.o
# TCMODULES += iproute2/tc/m_csum.o
# TCMODULES += iproute2/tc/m_simple.o
# TCMODULES += iproute2/tc/m_vlan.o
# TCMODULES += iproute2/tc/m_connmark.o
# TCMODULES += iproute2/tc/m_bpf.o
# TCMODULES += iproute2/tc/m_tunnel_key.o
# TCMODULES += iproute2/tc/m_sample.o
# TCMODULES += iproute2/tc/p_ip.o
# TCMODULES += iproute2/tc/p_ip6.o
TCMODULES += iproute2/tc/p_icmp.o
# TCMODULES += iproute2/tc/p_eth.o?
TCMODULES += iproute2/tc/p_tcp.o
TCMODULES += iproute2/tc/p_udp.o
TCMODULES += iproute2/tc/em_nbyte.o
TCMODULES += iproute2/tc/em_cmp.o
TCMODULES += iproute2/tc/em_u32.o
TCMODULES += iproute2/tc/em_canid.o
TCMODULES += iproute2/tc/em_meta.o
TCMODULES += iproute2/tc/q_mqprio.o
TCMODULES += iproute2/tc/q_codel.o
TCMODULES += iproute2/tc/q_fq_codel.o
TCMODULES += iproute2/tc/q_fq.o
TCMODULES += iproute2/tc/q_pie.o
# TCMODULES += iproute2/tc/q_cake.o
TCMODULES += iproute2/tc/q_hhf.o
TCMODULES += iproute2/tc/q_clsact.o
# TCMODULES += iproute2/tc/e_bpf.o
# TCMODULES += iproute2/tc/f_matchall.o
TCMODULES += iproute2/tc/q_cbs.o
# TCMODULES += iproute2/tc/q_etf.o
# TCMODULES += iproute2/tc/q_taprio.o
TCMODULES += iproute2/tc/q_plug.o


IP2MODULES += iproute2/lib/libutil.a
IP2MODULES += iproute2/lib/libnetlink.a
IP2MODULES += iproute2/tc/libtc.a

INC += -Iiproute2/bridge
INC += -Iiproute2/include
INC += -Iiproute2/tc

LDLIBS += -ldl
LDLIBS += -lm

tcq: tcq.c
	gcc tcq.c $(TCMODULES) $(IP2MODULES) -Liproute2/tc $(LDLIBS) $(INC) -O3 -o $@